<!DOCTYPE html>
<html>

<head>
  <title>PTIC GAME: The Drunker Number</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="js/index.js" type="text/javascript"></script>
  <link href='https://fonts.googleapis.com/css?family=Orbitron' rel='stylesheet' type='text/css'>
  <link href='css/style.css' rel='stylesheet' type='text/css'>
  <!-- <script>    
    function openFullscreen() {
      var elem = document.getElementById("main");
      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      } else if (elem.webkitRequestFullscreen) { /* Safari */
        elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) { /* IE11 */
        elem.msRequestFullscreen();
      }
    }
    </script>
  <script type="text/javascript" charset="utf-8">
    const pad_start = 0;
    const pad_stop = 99;
    const target = Math.floor(Math.random() * 100);
    var current_selected = 0;
    var selectedRule = "";
    var timeout = null;

    const rules = [
      "ผู้หญิงหมดแก้ว",
      "ผู้ชายหมดแก้ว",
      "คุณคือผู้โชคดีหมดแก้ว",
      "คนทางขวาหมดแก้ว",
      "คนทางซ้ายหมดแก้ว",
      "3 คน ทางขวาหมดแก้ว",
      "3 คน ทางซ้ายคนหมดแก้ว",
      "ตัวเองและ 3 คนทางขวาหมดแก้ว",
      "ตัวเองและ 3 คนทางซ้ายหมดแก้ว",
      "ขวามือคนที่ 3-5 หมดแก้ว",
      "ซ้ายมือคนที่ 3-5 หมดแก้ว",
      "หมดแก้วรอบวงยกเว้นตัวเอง",
      "หมดแก้วรอบวงยกเว้นซ้ายมือคนที่ 5",
      "หมดแก้วกับเสธ",
      "เลือกเพื่อนอีก 2 คน หมดแก้ว",
      "ทหารหมดแก้ว on the rock",
      "กำหนดเอง"]

    const winWords = ["ว้าว! คุณเลือกสุดยอดแล้ว!",
      "เลขของคุณถูกต้องอย่างสิ้นเชิง!",
      "คุณเป็นผู้เล่นสุดยอดที่เลือกถูก!",
      "เลขที่คุณเลือกน่าประทับใจมาก!",
      "ยินดีด้วย! คุณเลือกสุดยอดแล้ว.",
      "คุณเป็นผู้ชนะและเลือกถูกต้องเต็มที่!",
      "สุดยอด! คุณจับเลขถูกได้อย่างลงตัว.",
      "เลือกค่าที่ถูกต้องอย่างมืออาชีพ!",
      "คุณคือเกมเมอร์ที่เลือกสุดยอดแล้ว.",
      "เลขที่คุณเลือกเป็นสุดยอดที่สุด!"];

    const upperWords = ["โอ๊ะ! ยังไม่ถูก ลองต่ำกว่านี้ซิ!",
      "ยังไม่ถูกจ้า! เลขมากไปนิด.",
      "เลือกใหม่! ยังไม่ถูก ค่ามันสูงไป.",
      "เลขของคุณยังไม่ถูก มันเยอะไป.",
      "ฉันคิดว่าต้องต่ำกว่านี้น่ะ!",
      "อุ๊ปส์! ยังไม่ถูก สูงไปนิด!!.",
      "เกือบถูกล่ะ ต่ำกว่านี้อีกหน่อย!",
      "เลือกใหม่! เลขสูงไปสำหรับเกมนี้.",
      "ค่าที่เลือกสูงไป สำหรับจบเกม.",
      "เกือบถูกแล้วไง ลองต่ำลงอีกนิด!"];

    const belowWords = ["โอ๊ะ! ยังไม่ถูก สูงกว่านี้ซิ!",
      "ยังไม่ถูกจ้า! เลขน้อยไป.",
      "เลือกใหม่! ยังไม่ถูก ค่าต่ำเกินน่ะ.",
      "เลขของคุณยังไม่ถูก มันน้อยไป.",
      "ฉันคิดว่าต้องสูงกว่านี้น่ะ!",
      "อุ๊ปส์! ยังไม่ถูก ต่ำไปนิด!!.",
      "เกือบถูกล่ะ สูงกว่านี้หน่อย!",
      "เลือกใหม่! เลขน้อยเกินไปสำหรับเกมนี้.",
      "ค่าที่เลือกน้อยไปนิด สำหรับจบเกม.",
      "เกือบถูกแล้วไง สูงอีกนิด!"];

    function displayRule() {
      $("#rule-container").html('<p  style="text-align: center;" class="change-size">****** เลือกกติกากันก่อนเลย ******</p>');
      for (var index = 0; index < rules.length; index++) {
        $("#rule-container").append(
          '<button onclick="selectRule(' + index + ')" type="button"  class="btn-block btn-info btn-lg" style="font-size: 4vw;">' + rules[index] + '</button>'
        )
      }
    }
    function selectRule(ruleIndex) {
      openFullscreen();
      $("#mega-display").html('<div class="msg-container" onclick="clearScr()"><div class="rainbow change-size"><p>' + rules[ruleIndex] + '</p></div></div>');
      selectedRule = rules[ruleIndex];
      $("#mega-display").addClass("show");
      timeout = setTimeout(clearScr, 10000);
      $("#rule-container").addClass("no-show")
      displayNumpad();
    }
    function timerCheck(valSelected) {
      $("#mega-display").html('<div class="msg-container" onclick="disable_numpad()"><div class="rainbow">' + valSelected + '</div></div>');
      $("#mega-display").addClass("show");
      current_selected = valSelected;
      //setTimeout(disable_numpad, 5000);
    }

    function clearScr() {
      clearTimeout(timeout);
      $("#mega-display").removeClass("show");
    }
    function resetGame() {
      console.log("Call me.....")
      window.location.reload();
    }
    function displayNumpad() {
      $("#game-numpad").addClass("show");
      $("#game-numpad").html('<h1 onclick="openFullscreen()"  style="text-align: center;">The Drunker Number Game</h1>');
      $("#game-numpad").append('<p style="text-align: center;">' + selectedRule + '</p>')
      const isMobile = window.matchMedia("only screen and (max-width: 760px)").matches;
      for (var i = pad_start; i <= pad_stop; i++) {
        if (isMobile) {
          $("#game-numpad").append('<div id="contain-' + i + '" class="contain-btn mobile"><button onclick="timerCheck(' + i + ')" type="button" id="pad-btn-' + i + '" class="btn btn-default btn-block mobile">' + i + '</button></div>');
          //...
        }
        else {
          $("#game-numpad").append('<div id="contain-' + i + '" class="contain-btn"><button onclick="timerCheck(' + i + ')" type="button" id="pad-btn-' + i + '" class="btn btn-default btn-block">' + i + '</button></div>');
        }
      }

    }

    function disable_numpad() {
      console.log(current_selected);
      console.log('disable numpad call');
      var select = parseInt(current_selected);
      console.log(select + ' | ' + target);
      //$("#pad-btn-" + select).addClass("selected");
      if (target == select) {
        //var ranIndex = Math.floor(Math.random() * winWords.length);
        //if (ranIndex >= winWords.length) ranIndex = winWords.length - 1;
        //var winWord = winWords[ranIndex];
        $("#mega-display").html('<div class="msg-container"><div onclick="resetGame()"  class="rainbow change-size"><p style="font-size: 12vw !important">☑ ' + select + '</p><p>' + selectedRule + '</p><button onclick="resetGame()" style="font-size:2vw !important;">เริ่มเกมใหม่</button></div></div>');
      }
      else if (select < target) {
        console.log('select < target');
        var ranIndex = Math.floor(Math.random() * belowWords.length);
        if (ranIndex >= belowWords.length) ranIndex = belowWords.length - 1;
        var belowWord = belowWords[ranIndex];
        $("#mega-display").html('<div class="msg-container" onclick="clearScr()"><div class="rainbow change-size" style="background-color:red;"><p style="font-size: 12vw !important; color:red;">☒ ' + select + '</p>' + belowWord + '</div></div>');
        timeout = setTimeout(clearScr, 5000);
        $("#contain-" + select).removeClass("rainbow");
        $("#pad-btn-" + select).removeClass("btn-txt-size");

        for (var i = select; i >= pad_start; i--) {
          console.log('disable numpad ' + i);
          $("#pad-btn-" + i).prop('disabled', true);
          $("#pad-btn-" + i).css({ 'background-color': 'darkgrey' });
        }
      }
      else if (select > target) {
        var ranIndex = Math.floor(Math.random() * upperWords.length);
        if (ranIndex >= upperWords.length) ranIndex = upperWords.length - 1;
        var upperWord = upperWords[ranIndex];
        $("#mega-display").html('<div class="msg-container" onclick="clearScr()"><div class="rainbow change-size" style="background-color:red;"><p style="font-size: 12vw !important; color:red;">☒ ' + select + '</p>' + upperWord + '</div></div>');
        timeout = setTimeout(clearScr, 5000);
        console.log('select > target');
        $("#contain-" + select).removeClass("rainbow");
        $("#pad-btn-" + select).removeClass("btn-txt-size");
        for (var i = select; i <= pad_stop; i++) {
          console.log('disable numpad ' + i);
          $("#pad-btn-" + i).prop('disabled', true);
          $("#pad-btn-" + i).css({ "background-color": 'darkgrey' });
        }
      }
      else {
        console.log('disable numpad nothing');
      }
    }
    $(document).ready(function () {
      displayRule();
    });
  </script> -->
  <!-- <style>
    .btn-txt-size {
      font-family: 'Orbitron', sans-serif;
      font-size: 10vw;
    }

    .contain-btn {
      font-family: 'Orbitron', sans-serif;
      margin: 0px;
      padding: 5px;
      /*background-color: darkgrey;*/
      width: 9vw;
      max-height: 9vw;
      height: 8vh;
      display: inline-flex;
      background-color: darkgray;
    }

    .selected {
      border: #d53e33 solid 1px;
    }

    .btn {
      font-family: 'Orbitron', sans-serif;
      height: 100%;
      background-color: #18c01e;
      font-size: 2.5vw;
      border-radius: 5px;
    }
    .btn:hover{
      font-weight: bold;
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    @keyframes rotate {
      100% {
        transform: rotate(1turn);
      }
    }

    .change-size {
      font-size: 5vw !important;
    }

    .mobile {
      min-width: 40vw;
      max-hight: 40vw;
    }

    .rainbow {
      position: relative;
      font-family: 'Orbitron', sans-serif;
      z-index: 0;
      width: 50vw;
      max-height: 50vw;
      height: 50vh;
      font-size: 20vw;
      border-radius: 10px;
      overflow: hidden;
      padding: 2rem;
      text-align: center;

      &::before {
        content: '';
        position: absolute;
        z-index: -2;
        left: -50%;
        top: -50%;
        width: 200%;
        height: 200%;
        background-color: #399953;
        background-repeat: no-repeat;
        background-size: 50% 50%, 50% 50%;
        background-position: 0 0, 100% 0, 100% 100%, 0 100%;
        background-image: linear-gradient(#399953, #399953), linear-gradient(#fbb300, #fbb300), linear-gradient(#d53e33, #d53e33), linear-gradient(#377af5, #377af5);
        animation: rotate 4s linear infinite;
      }

      &::after {
        content: '';
        position: absolute;
        z-index: -1;
        left: 6px;
        top: 6px;
        width: calc(100% - 12px);
        height: calc(100% - 12px);
        background: white;
        border-radius: 5px;
        animation: opacityChange 3s infinite alternate;
      }
    }

    @keyframes opacityChange {
      50% {
        opacity: 1;
      }

      100% {
        opacity: .5;
      }
    }

    .msg-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    .mega-display-container {
      background-color: rgba(255, 255, 255, 0.4);
      -webkit-backdrop-filter: blur(5px);
      backdrop-filter: blur(5px);

      position: absolute;
      width: 100vw;
      height: 100vh;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: none;
    }

    .no-show {
      display: none;
    }

    .show {
      display: block;
    }

    .main {
      margin: 0px;
      padding: 20px;
      width: 100vw;
      height: 100vh;
      overflow: scroll;
    }

    .game-numpad {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 90vw;
      height: 90vh;
      transform: translate(-50%, -50%);
      display: none;
    }

    .rule-container {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 90vw;
      height: 90vh;
      padding: 20px;
      z-index: 300;
      transform: translate(-50%, -50%);
    }
  </style> -->
</head>

<body>
  <div id="main" class="main">
    <div id="rule-container" class="rule-container"></div>
    <div id="game-numpad" class="game-numpad">
    </div>    
  <div id="mega-display" class="mega-display-container"></div>
  </div>
</body>

</html>